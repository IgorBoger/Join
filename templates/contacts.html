<!DOCTYPE html>
<!-- <html lang="en"> -->
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Join</title>
    <!-- <link href="https://fonts.googleapis.com/css2?family=PT+Sans&display=swap" rel="stylesheet"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet" />
    <link rel="icon" type="image/x-icon" href="../img/join-logo.svg" />

    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/sidebar.css" />
    <link rel="stylesheet" href="../css/register.css" />
    <link rel="stylesheet" href="../css/login.css" />

    <link rel="stylesheet" href="../css/summary.css" />
    <link rel="stylesheet" href="../css/board-1.css" />
    <link rel="stylesheet" href="../css/board-2.css" />

    <link rel="stylesheet" href="../css/contacts-1.css" />
    <link rel="stylesheet" href="../css/contacts-2.css" />
    <link rel="stylesheet" href="../css/contacts-3.css" />
    <link rel="stylesheet" href="../css/contacts_responsive.css" />


    <link rel="stylesheet" href="../css/privacy_policy.css" />
    <link rel="stylesheet" href="../css/legal_notice.css" />
    <link rel="stylesheet" href="../css/footer.css" />

    <script src="https://www.w3schools.com/lib/w3.js"></script>

    <script src="../js/database.js"></script>
    <script src="../js/contacts_data_storage.js"></script>
    <script src="../js/contacts-1.js"></script>
    <script src="../js/contacts-2.js"></script>
    <script src="../js/contacts_remote_storage.js"></script>
    <script src="../js/header.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/add_task-1.js"></script>
    <script src="../js/add_task-2.js"></script>
    <script src="../js/register.js"></script>
    <script src="../js/login.js"></script>
  </head>

  <body onload="contactsOnLoad()" onresize="hideMobileDetailsOnResize()">
    <div class="spinner-overlay">
      <div class="spinner"></div>
    </div>
    <div onclick="hideMobileDetails()" id="mobileDetailsOverlay" style="display: none;">
      <div onclick="event.preventDefault()" id="mobileDetailsDialog" class="mobile-detail-dialog">
      </div>
    </div>

    <header w3-include-html="../templates/header.html" id="headerContainer"></header>
    <main class="main">
      <div w3-include-html="../templates/sidebar.html" id="sidebarContainer"></div>
      <div class="content">
        <div class="contacts-container">
          <button class="back-arrow d-none" id="backArrow" onclick="backToContacts()">
            <img src="../img/arrow_left.png" alt="" />
          </button>

          <div class="contacts" id="contacts">
            <button id="addContactBtn" class="add-contact-btn" onclick="openAddContactOverlay()">
              <p>Add new contact</p>
              <img src="../img/person_add.png" alt="" />
            </button>
            <div class="contacts-list"></div>
          </div>

          <div class="contact-info" id="contactDetailContainer">
            <div class="contact-header">
              <h1>Contacts</h1>
              <p>Better with a team</p>
            </div>

            <div class="contact-detail-view d-none" id="contactDetailView"></div>
          </div>

          <div onclick="showMobileContactDetails()" class="mobile-contact-details" style="display: none;">
            <svg class="mobile-details-btn" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#filter0_d_71395_17955)">
              <rect x="4" width="56" height="56" rx="28" fill="#2A3647" shape-rendering="crispEdges"/>
              <rect x="4.5" y="0.5" width="55" height="55" rx="27.5" stroke="none" shape-rendering="crispEdges"/>
              <mask id="mask0_71395_17955" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="16" y="12" width="32" height="32">
              <rect x="16" y="12" width="32" height="32" fill="#D9D9D9"/>
              </mask>
              <g mask="url(#mask0_71395_17955)">
              <path d="M31.9997 38.6666C31.2663 38.6666 30.6386 38.4055 30.1163 37.8833C29.5941 37.361 29.333 36.7333 29.333 35.9999C29.333 35.2666 29.5941 34.6388 30.1163 34.1166C30.6386 33.5944 31.2663 33.3333 31.9997 33.3333C32.733 33.3333 33.3608 33.5944 33.883 34.1166C34.4052 34.6388 34.6663 35.2666 34.6663 35.9999C34.6663 36.7333 34.4052 37.361 33.883 37.8833C33.3608 38.4055 32.733 38.6666 31.9997 38.6666ZM31.9997 30.6666C31.2663 30.6666 30.6386 30.4055 30.1163 29.8833C29.5941 29.361 29.333 28.7333 29.333 27.9999C29.333 27.2666 29.5941 26.6388 30.1163 26.1166C30.6386 25.5944 31.2663 25.3333 31.9997 25.3333C32.733 25.3333 33.3608 25.5944 33.883 26.1166C34.4052 26.6388 34.6663 27.2666 34.6663 27.9999C34.6663 28.7333 34.4052 29.361 33.883 29.8833C33.3608 30.4055 32.733 30.6666 31.9997 30.6666ZM31.9997 22.6666C31.2663 22.6666 30.6386 22.4055 30.1163 21.8833C29.5941 21.361 29.333 20.7333 29.333 19.9999C29.333 19.2666 29.5941 18.6388 30.1163 18.1166C30.6386 17.5944 31.2663 17.3333 31.9997 17.3333C32.733 17.3333 33.3608 17.5944 33.883 18.1166C34.4052 18.6388 34.6663 19.2666 34.6663 19.9999C34.6663 20.7333 34.4052 21.361 33.883 21.8833C33.3608 22.4055 32.733 22.6666 31.9997 22.6666Z" fill="white"/>
              </g>
              </g>
              <defs>
              <filter id="filter0_d_71395_17955" x="0" y="0" width="64" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
              <feOffset dy="4"/>
              <feGaussianBlur stdDeviation="2"/>
              <feComposite in2="hardAlpha" operator="out"/>
              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_71395_17955"/>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_71395_17955" result="shape"/>
              </filter>
              </defs>
              </svg>
          </div>
    
        </div>

        <!-- :::::::::  OVERLAY add new Contact ::::::::::::::: -->

        <div id="addContactOverlay" class="add-contact-overlay d-none" onclick="if(event.target===this){ closeAddContactOverlay(); }">
          <div class="overlay-add-content">
            <div class="overlay-left">
              <img src="../img/join-logo-white.svg" alt="Join Logo" class="overlay-logo" />
              <h2>Add contact</h2>
              <p>Tasks are better with a team!</p>
              <div class="overlay-close-responsive" onclick="closeAddContactOverlay()">
                <img src="../img/close-white.png" alt="close overlay" />
              </div>
            </div>

            <div class="overlay-right">
              <div class="new-contact-details">
                <div class="overlay-avatar">
                  <img src="../img/person.png" alt="User Avatar" />
                </div>

                <form class="new-contact-inputs" onsubmit="saveNewContact(); return false;">
                  <div class="overlay-input-group">
                    <label for="contactName">Name</label>
                    <div class="input-wrapper">
                      <input type="text" id="contactName" placeholder="Name" required />
                      <img src="../img/person_input.png" alt="" />
                    </div>
                  </div>

                  <div class="overlay-input-group">
                    <label for="contactEmail">Email</label>
                    <div class="input-wrapper">
                      <input type="email" id="contactEmail" placeholder="Email" required />
                      <img src="../img/mail_input.png" alt="" />
                    </div>
                  </div>

                  <div class="overlay-input-group">
                    <label for="contactPhone">Phone</label>
                    <div class="input-wrapper">
                      <input type="tel" id="contactPhone" placeholder="Phone" required />
                      <img src="../img/call_input.png" alt="" />
                    </div>
                  </div>

                  <div class="overlay-buttons">
                    <img onmouseover="makeCancelBtnLight()" onmouseout="makeCancelBtnDark()" class="btn-cancel" onclick="closeAddContactOverlay()" id="overlayCancelIcon" src="../img/full-cancel-btn.png" alt="cancel">
                    <button onclick="saveNewContactToDataBase()" type="submit" class="btn-save">
                      <p>Create Contact</p>
                      <img src="../img/check.png" alt="" />
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- :::::::::  OVERLAY edit Contact ::::::::::::::: -->

        <div id="editContactOverlay" class="overlay d-none">
          <div class="overlay-edit-content">
            <div class="overlay-left">
              <img src="../img/join-logo-white.svg" alt="Join Logo" class="overlay-logo" />
              <h2 class="edit-pseudo-element">Edit contact</h2>
              <div class="overlay-close-responsive" onclick="closeEditContactOverlay()">
                <img src="../img/close-white.png" alt="close overlay" />
              </div>
            </div>
            <div class="overlay-right">
              <div class="overlay-close" onclick="closeEditContactOverlay()">
                <img src="../img/close.png" alt="" />
              </div>
              <div class="new-contact-details">
                <div class="overlay-edit-avatar" id="editAvatar"></div>
                <form class="edit-overlay-inputs" onsubmit="saveEditedContact(); return false;">
                  <div class="overlay-input-group">
                    <label for="editName">Name</label>
                    <div class="input-wrapper">
                      <input type="text" id="editName" required />
                      <img src="../img/person_input.png" alt="" />
                    </div>
                  </div>
                  <div class="overlay-input-group">
                    <label for="editEmail">Email</label>
                    <div class="input-wrapper">
                      <input type="email" id="editEmail" required />
                      <img src="../img/mail_input.png" alt="" />
                    </div>
                  </div>
                  <div class="overlay-input-group">
                    <label for="editPhone">Phone</label>
                    <div class="input-wrapper">
                      <input type="tel" id="editPhone" required />
                      <img src="../img/call_input.png" alt="" />
                    </div>
                  </div>
                  <div class="overlay-buttons">
                    <button type="button" class="btn-delete" onclick="deleteContactForEdit()">
                      Delete
                    </button>
                    <button type="submit" class="btn-save">
                      Save
                      <img src="../img/check.png" alt="" />
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- :::::::::  FIXED IMG / OVERLAY contact-succesfully-created ::::::::::::::: -->

        <img class="overlay-contact-succesfully-created" id="contactSuccesfullyCreated" src="../img/contact-succesfully-created.png" alt="" srcset="" />
      </div>
    </main>
  </body>
  <script src="../script.js"></script>
</html>
